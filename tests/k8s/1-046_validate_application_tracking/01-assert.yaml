apiVersion: kuttl.dev/v1beta1
kind: TestAssert
timeout: 720
---
# Check first ArgoCD instance is available
apiVersion: argoproj.io/v1beta1
kind: ArgoCD
metadata:
  name: argocd-1
  namespace: test-1-046-argocd-1
status:
  phase: Available
---
# Check second ArgoCD instance is available
apiVersion: argoproj.io/v1beta1
kind: ArgoCD
metadata:
  name: argocd-2
  namespace: test-1-046-argocd-2
status:
  phase: Available
---
# Check first ArgoCD ConfigMap
apiVersion: v1
kind: ConfigMap
metadata:
  name: argocd-cm
  namespace: test-1-046-argocd-1
data:
  installationID: "instance-1"
  resource.tracking.method: "annotation"
---
# Check second ArgoCD ConfigMap
apiVersion: v1
kind: ConfigMap
metadata:
  name: argocd-cm
  namespace: test-1-046-argocd-2
data:
  installationID: "instance-2"
  resource.tracking.method: "annotation"
---
# Check first namespace labels
apiVersion: v1
kind: Namespace
metadata:
  name: source-ns-1
  labels:
    argocd.argoproj.io/managed-by: test-1-046-argocd-1
    argocd.argoproj.io/tracking-id: instance-1
---
# Check second namespace labels
apiVersion: v1
kind: Namespace
metadata:
  name: source-ns-2
  labels:
    argocd.argoproj.io/managed-by: test-1-046-argocd-2
    argocd.argoproj.io/tracking-id: instance-2
