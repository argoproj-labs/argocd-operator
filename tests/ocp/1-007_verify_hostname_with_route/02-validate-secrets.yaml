# Test that validates the secrets are created with proper truncated names
# This addresses GITOPS-7315: Secret names must not exceed 63 characters in labels
apiVersion: v1
kind: Secret
metadata:
  # The cluster secret name should be truncated and not exceed 63 chars in labels
  name: argocd-long-name-for-route-testiiiiiiiiiiiiiiiii-a6407ac090b526
spec: {}
---
apiVersion: v1
kind: Secret
metadata:
  # The redis-initial-password secret name should be truncated and not exceed 63 chars in labels
  name: argocd-long-name-for-route-testiiiiiiiiiiiiiiiii-7f475910ce2853
spec: {}
---
# Validate that the ArgoCD CR status shows successful reconciliation
apiVersion: argoproj.io/v1beta1
kind: ArgoCD
metadata:
  name: argocd-long-name-for-route-testiiiiiiiiiiiiiiiiiiiiiiiing
status:
  phase: Available
